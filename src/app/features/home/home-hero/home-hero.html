<section class="hero-wrapper">
  <div class="hero-background">
    @if (heroImages.length) {
      @for (image of heroImages; track image.id; let i = $index) {
        <div
          class="hero-background__slide"
          [class.is-active]="currentImageIndex === i"
        >
          <div class="hero-background__image animate-ken-burns">
            @if (image.webpUrl) {
              <picture>
                <source [srcset]="image.webpUrl" type="image/webp">
                <img
                  [src]="image.url"
                  [alt]="image.alt"
                  loading="eager"
                  fetchpriority="high"
                />
              </picture>
            } @else {
              <img
                [src]="image.url"
                [alt]="image.alt"
                loading="eager"
                fetchpriority="high"
              />
            }
          </div>
          <div class="hero-background__overlay"></div>
        </div>
      }
    } @else {
      <div class="hero-background__fallback"></div>
    }
    <div class="hero-flares">
      <span class="flare flare--left"></span>
      <span class="flare flare--right"></span>
    </div>
  </div>

  <div class="hero-inner">
    <div class="hero-brand">
      <img [src]="brandLogo" [alt]="brandName" width="64" height="64" />
      <div>
        <p class="hero-eyebrow">{{ heroContent!.eyebrow || '' }}</p>
        <h1>{{ heroContent!.title || brandName }}</h1>
      </div>
    </div>

    <p class="hero-lede">
      {{ heroContent!.subtitle || '' }}
    </p>

    <div class="hero-ctas">
      <a
        class="hero-cta hero-cta--primary"
        [routerLink]="heroContent!.primaryCta!.href || '/contact'"
      >
        {{ heroContent!.primaryCta!.label || 'Get Free Quote' }}
      </a>
      <a
        class="hero-cta hero-cta--ghost"
        [routerLink]="heroContent!.secondaryCta!.href || '/services'"
      >
        {{ heroContent!.secondaryCta!.label || 'View Our Services' }}
      </a>
    </div>

    @if (heroContent!.badge) {
      <p class="hero-badge">{{ heroContent!.badge }}</p>
    }

    @if (heroImages.length > 1) {
      <div class="hero-dots">
        @for (image of heroImages; track image.id; let i = $index) {
          <button
            type="button"
            class="hero-dot"
            [class.hero-dot--active]="currentImageIndex === i"
            (click)="setCurrentImage(i)"
            [attr.aria-label]="'Image ' + (i + 1)"
          ></button>
        }
      </div>
    }
  </div>
</section>
